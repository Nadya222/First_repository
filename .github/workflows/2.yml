name: Continuous Integration
on: [push]

jobs:
  build:
        runs-on: ubuntu-latest
        strategy:
            matrix:
                python-version: [3.6]
        steps:
            - uses: actions/checkout@v2
            - name: S
              uses: actions/setup-python@v2
              with:
                python-version: ${{ matrix.python-version }}
                architecture: x64
            - name: Run Test
              run: pip install pytest
            - name: Run2
              run: python -m unittest discover .

#             - name: send telegram message on push
#               uses: appleboy/telegram-action@master
#               with:
#                 to: ${{ secrets.TELEGRAM_TO }}
#                 token: ${{ secrets.5040526577:AAHeZsRpUf_WMKHOBlkVlaLBHOkjv5FQwmY }}
#                 message: |
#                  ${{ github.actor }} created commit:
#                   Commit message: ${{ github.event.commits[0].message }}
#                   Repository: ${{ github.repository }}
#                   See changes: https://github.com/${{ github.repository }}/commit/${{github.sha}}
            - name : notification 
              if : cancelled () == false 
              uses : actions/setup-dotnet@v1 
#               uses : test_results_from_github/action-telegram@v1.1 
              with :
                 botToken : $ {{secrets.TgToken}} 
                 chatId : $ {{secrets.TgId}}
